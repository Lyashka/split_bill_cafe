import{q as g,m as p,s as h,n as S}from"./index-DC91heDb.js";const N=g("users",()=>{const e=p([]),c=function(){e.push({name:"",id:e[e.length-1]==null?1:e[e.length-1].id+1})},o=()=>e.some(n=>n.name.trim()=="");function i(){o()||c()}function u(n){const r=e.findIndex(t=>t.id===n);r!==-1&&e.splice(r,1)}h(e,async()=>{localStorage.setItem("users",JSON.stringify(e))});function a(){const n=JSON.parse(localStorage.getItem("users"));n!=null&&n.forEach(r=>{e.findIndex(s=>s.id===r.id)===-1&&e.push(r)})}const d=S();function f(){o()||d.push("/products")}function l(){e.splice(0,e.length)}function m(){const n=e[e.length-1].name.toLowerCase();for(let r=0;r<e.length-1;r++)if(e[r].name.toLowerCase()==n)return!0}return{users:e,addUserInList:i,removeUser:u,saveUsersForm:f,getUsersFromLocaleStorage:a,clearUsers:l,searchDuplicates:m}}),y=g("products",()=>{const e=p([]),c=function(){e.push({id:e[e.length-1]==null?1:e[e.length-1].id+1,name:"",price:"",userPayer:"",usersAte:[]})},o=()=>e.some(t=>t.name.trim()==""||t.price.trim()=="");function i(){o()||c()}function u(t){const s=e.findIndex(P=>P.id===t);s!==-1&&e.splice(s,1)}const a=()=>e.reduce((t,s)=>t+=Number(s.price),0);h(e,async()=>{localStorage.setItem("products",JSON.stringify(e))});function d(){return JSON.parse(localStorage.getItem("products"))}const f=S();function l(){o()||f.push("/results")}function m(){e.splice(0,e.length)}function n(t){console.log(t),e.forEach(s=>{s.id==t.id&&(s.userPayer=t.userPayer,s.usersAte=t.usersAte)})}function r(){const t=e[e.length-1].name.toLowerCase();for(let s=0;s<e.length-1;s++)if(e[s].name.toLowerCase()==t)return!0}return{products:e,addProductInList:i,removeProduct:u,saveProductsForm:l,summPrice:a,getProductsFromLocaleStorage:d,clearProducts:m,updateProduct:n,searchDuplicatesProducts:r}});export{y as a,N as u};
